<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>OG $MOLTY</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
body {
  margin: 0;
  font-family: Inter, system-ui, sans-serif;
  background: radial-gradient(circle at top, #1b2b2f, #0b0f14);
  color: #e6f1f3;
  display: flex;
  justify-content: center;
}

.container {
  max-width: 720px;
  padding: 80px 20px;
  text-align: center;
}

h1 {
  font-size: 42px;
  margin-bottom: 10px;
}

.subtitle {
  opacity: 0.8;
  margin-bottom: 40px;
}

.burn-box {
  background: rgba(255,255,255,0.04);
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 0 40px rgba(0,255,200,0.12);
}

.burn-amount {
  font-size: 40px;
  font-weight: 800;
  color: #49ffd2;
  margin: 10px 0;
}

.progress {
  height: 10px;
  background: rgba(255,255,255,0.1);
  border-radius: 6px;
  overflow: hidden;
  margin: 14px 0;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg,#49ffd2,#00ffc8);
  width: 0%;
}

.small {
  font-size: 13px;
  opacity: 0.7;
}

.links {
  margin-top: 30px;
}

.links a {
  color: #49ffd2;
  text-decoration: none;
  margin: 0 10px;
  font-weight: 600;
}

.links a:hover {
  text-decoration: underline;
}

.history {
  margin-top: 40px;
  text-align: left;
}

.history h3 {
  text-align: center;
  margin-bottom: 20px;
}

.history ul {
  list-style: none;
  padding: 0;
}

.history li {
  padding: 12px 0;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  font-size: 14px;
}

.history a {
  color: #49ffd2;
  text-decoration: none;
}

footer {
  margin-top: 40px;
  font-size: 12px;
  opacity: 0.5;
}
</style>
</head>

<body>
<div class="container">

<h1>OG $MOLTY</h1>
<div class="subtitle">Community-driven Solana meme token</div>

<div class="burn-box">
  <div class="small">TOTAL BURNED</div>
  <div id="burned" class="burn-amount">Loading...</div>

  <div class="progress">
    <div id="progressFill" class="progress-fill"></div>
  </div>

  <div id="percent" class="small"></div>
  <div class="small">Initial Supply: 1,000,000,000 MOLTY</div>

  <p class="small" style="margin-top:20px">
    One Molty. One community. One chain.<br>
    No rebrands. No copies. No shortcuts.
  </p>
</div>

<div class="links">
  <a href="https://x.com/moltyonbags?s=21" target="_blank">Follow on X</a>
  Â·
  <a href="https://t.me/MoltyBAGS" target="_blank">Join Telegram</a>
  Â·
  <a href="https://solscan.io/token/8UdvUKTaWB6DcrbJtfiXeiJnKeJ9fd2tc4i9SV4kBAGS" target="_blank">View on Solscan</a>
</div>

<div class="history">
  <h3>ðŸ”¥ Last 5 Burns</h3>
  <ul id="burnHistory">
    <li>Loading burn history...</li>
  </ul>
</div>

<footer>
  Burn calculated from Solana on-chain data
</footer>

</div>

<script>
const TOKEN_MINT = "8UdvUKTaWB6DcrbJtfiXeiJnKeJ9fd2tc4i9SV4kBAGS";
const BURN_ADDRESS = "11111111111111111111111111111111";
const MAX_SUPPLY = 1_000_000_000;

async function loadBurnData() {
  const supplyRes = await fetch(`https://public-api.solscan.io/token/meta?tokenAddress=${TOKEN_MINT}`);
  const supplyData = await supplyRes.json();

  const currentSupply = supplyData.supply / 10 ** supplyData.decimals;
  const burned = MAX_SUPPLY - currentSupply;
  const percent = (burned / MAX_SUPPLY) * 100;

  document.getElementById("burned").textContent =
    burned.toLocaleString("en-US") + " MOLTY";
  document.getElementById("percent").textContent =
    `Burned: ${percent.toFixed(2)}%`;
  document.getElementById("progressFill").style.width =
    percent.toFixed(2) + "%";
}

async function loadBurnHistory() {
  const res = await fetch(
    `https://public-api.solscan.io/account/token/txs?account=${BURN_ADDRESS}&limit=5`
  );
  const data = await res.json();

  const list = document.getElementById("burnHistory");
  list.innerHTML = "";

  data.forEach(tx => {
    const amount = (tx.changeAmount / 10 ** tx.decimals).toLocaleString();
    const date = new Date(tx.blockTime * 1000).toLocaleDateString();
    const link = `https://solscan.io/tx/${tx.txHash}`;

    const li = document.createElement("li");
    li.innerHTML = `ðŸ”¥ ${amount} MOLTY â€” ${date} â€”
      <a href="${link}" target="_blank">view</a>`;
    list.appendChild(li);
  });
}

loadBurnData();
loadBurnHistory();
</script>

</body>
</html>
